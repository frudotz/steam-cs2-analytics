<!DOCTYPE html>
<html lang="tr">
<head>
 <!-- Primary Meta Tags -->
<title>CS2 Profil Analizi - @frudotz</title>
<meta name="title" content="CS2 Profil Analizi - @frudotz">
<meta name="author" content="@frudotz">
<meta name="theme-color" content="#000000">
<meta name="background-color" content="#FFFFFF">
<meta name="keywords" content="">
<meta name="description" content="">
<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://frudotz.com/">
<meta property="og:title" content="CS2 Profil Analizi - @frudotz">
<meta property="og:description" content="">
<meta property="og:image" content="">
<meta property="og:image:type" content="image/jpg">
<!-- Twitter -->
<meta property="twitter:card" content="summary">
<meta property="twitter:url" content="https://frudotz.com/">
<meta property="twitter:title" content="CS2 Profil Analizi - @frudotz">
<meta property="twitter:description" content="">
<meta property="twitter:image:src" content="">
<!-- Includes & Preloads for Cache -->
<link rel="icon" href="https://raw.githubusercontent.com/frudotz/frudotz.github.io/main/favicon.ico"> <!-- Icon -->
<link rel="stylesheet" type="text/css" href="style.css">
<script src="script.js"></script>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css">
</head>

<body>

<div class="container">

<h2>SteamID Gir</h2>

<input id="steamid" placeholder="7656119..." />
<button onclick="getProfile()">Getir</button>

<div id="result"></div>

</div>

<script>

function calculateAccountAge(timestamp){
  const created = new Date(timestamp * 1000)
  const now = new Date()
  return Math.floor((now - created) / (1000*60*60*24*365))
}

async function getProfile(){

  const steamid = document.getElementById("steamid").value
  const result = document.getElementById("result")

  result.innerHTML = "Yükleniyor..."

  const res = await fetch(
    "https://steam-cs2-analytics.frudotz.workers.dev/?steamid=" + steamid
  )

  const data = await res.json()
  const player = data.response.players[0]

  const age = calculateAccountAge(player.timecreated)

  result.innerHTML = `
    <div class="card">
      <img class="avatar" src="${player.avatarfull}" />
      <div class="info">
        <div class="name">${player.personaname}</div>
        <div class="sub">Hesap Yaşı: ${age} yıl</div>
        <div class="sub">SteamID: ${player.steamid}</div>
      </div>
    </div>
  `
}

</script>

</body>
</html>
